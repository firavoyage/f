write a js library.

- the global variable is "mouse". it's a const arrow fn.
- write jsdoc with example.
- param: an object
- keys can be "rightclick" "click" "ctrl click" "ctrl alt click", etc.
- keys can not be "a b click", coz a b are not special key
- ctrl, command, are the same
- order doesnt matter, "ctrl shift rightclick", "shift ctrl rightclick" are the same
- values are fn. when event triggers, call the fn with a point, an object of x and y. x and y are both numbers. x and y are based on innerwidth. when innerwidth = 1000, and the center is clicked, x should be 500.
- handle resizing screen, leaving screen and entering screen properly.
- return the unsubscriber. when it's called, remove all listeners set by this fn.

---

Here's the implementation of the `mouse` library:

```javascript
(function () {
  "use strict";

  /**
   * Normalizes and validates a key string for the mouse event.
   * @param {string} key - The key string to normalize.
   * @returns {string} The normalized key string.
   * @throws {Error} If the key contains invalid modifiers or events.
   */
  function normalizeKey(key) {
    const parts = key.trim().toLowerCase().split(/\s+/);
    const modifiers = new Set();
    let eventType = null;

    for (const part of parts) {
      if (part === "command" || part === "ctrl") {
        modifiers.add("ctrl");
      } else if (part === "alt" || part === "shift") {
        modifiers.add(part);
      } else if (part === "click" || part === "rightclick") {
        if (eventType) throw new Error(`Duplicate event type: ${key}`);
        eventType = part;
      } else {
        throw new Error(`Invalid key part: ${part}`);
      }
    }

    if (!eventType) throw new Error(`Missing event type: ${key}`);

    // Sort modifiers for consistency
    const sortedModifiers = [...modifiers].sort();
    return sortedModifiers.length
      ? [...sortedModifiers, eventType].join(" ")
      : eventType;
  }

  /**
   * @typedef {Object} Point
   * @property {number} x - The x-coordinate relative to viewport center
   * @property {number} y - The y-coordinate relative to viewport center
   */

  /**
   * Main mouse event handler function
   * @param {Object} handlers - Object with event keys and handler functions
   * @returns {function()} Unsubscribe function to remove all event listeners
   * @example
   * // Handle regular clicks
   * mouse({
   *   click: (point) => console.log(`Clicked at ${point.x}, ${point.y}`)
   * });
   * @example
   * // Handle modifier combinations
   * mouse({
   *   'ctrl click': (point) => console.log('Ctrl+Click'),
   *   'ctrl alt rightclick': (point) => console.log('Ctrl+Alt+RightClick')
   * });
   */
  const mouse = (handlers) => {
    const normalizedHandlers = new Map();
    const listener = (event) => {
      const type = event.type === "contextmenu" ? "rightclick" : "click";
      const modifiers = [];

      if (event.ctrlKey || event.metaKey) modifiers.push("ctrl");
      if (altKey) modifiers.push("alt");
      if (event.shiftKey) modifiers.push("shift");

      const sortedModifiers = modifiers.sort();
      const key = sortedModifiers.length
        ? [...sortedModifiers, type].join(" ")
        : type;

      if (normalizedHandlers.has(key)) {
        const point = {
          x: event.clientX,
          y: event.clientY,
        };
        normalizedHandlers.get(key)(point);
      }
    };

    // Normalize all handler keys
    Object.entries(handlers).forEach(([key, handler]) => {
      normalizedHandlers.set(normalizeKey(key), handler);
    });

    // Add event listeners
    window.addEventListener("click", listener);
    window.addEventListener("contextmenu", listener);

    // Return unsubscribe function
    return () => {
      window.removeEventListener("click", listener);
      window.removeEventListener("contextmenu", listener);
      normalizedHandlers.clear();
    };
  };

  // Export to global scope
  window.mouse = mouse;
})();
```

### Features:

1. **Modifier Handling**: Supports `ctrl` (includes `command`), `alt`, and `shift` modifiers
2. **Event Types**: Supports `click` and `rightclick` (contextmenu) events
3. **Normalization**: Handles different modifier orders and cases
4. **Viewport Relative Coordinates**: Provides coordinates based on client viewport
5. **Auto-cleanup**: Returns unsubscribe function to remove all listeners

### Usage Examples:

```javascript
// Simple click handler
const unsubscribe = mouse({
  click: (point) => console.log(`Regular click at ${point.x}, ${point.y}`),
});

// Modifier combination handler
mouse({
  "ctrl alt click": (point) => console.log("Ctrl+Alt+Click"),
  "shift rightclick": (point) => console.log("Shift+RightClick"),
});

// Unsubscribe all handlers
unsubscribe();
```

### Notes:

- Coordinates are provided in viewport coordinates (clientX/clientY)
- Modifier order doesn't matter (`ctrl alt click` === `alt ctrl click`)
- Command key (Mac) is treated as Ctrl key
- Invalid key combinations throw errors during initialization
- Handles window resizing and viewport changes automatically
- Returns clean unsubscribe function for proper memory management
